<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ú® Rich Bot v1.1 ‚ú®</title>
      <script src='//whephiwums.com/sdk.js' data-zone='8991600' data-sdk='show_8991600'></script>
    <style>
      #withdrawForm {
    display: none;}
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #0f172a, #1e293b);
            color: white;
            text-align: center;
            padding-top: 20px;
            position: relative;
        }

        .container {
            max-width: 400px;
            margin: auto;
            background: rgba(30, 41, 59, 0.8);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
        }

        .hidden {
            display: none;
        }

        input {
            background: #1e293b;
            border: 1px solid #3b82f6;
            border-radius: 5px;
            padding: 5px;
            color: white;
            width: 80%;
            margin-bottom: 10px;
        }

        /* Tombol Edit Bulat di Pojok Kanan Atas di Dalam Kotak */
        .edit-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #3b82f6;
            color: white;
            font-size: 18px;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        /* Tata Letak Akun Rapi */
        .account-box {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 20px;
            border: 2px solid #3b82f6;
            border-radius: 10px;
            margin-bottom: 20px;
            background: rgba(17, 24, 39, 0.9);
        }

        .account-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }

        .account-item span {
            margin-left: 8px;
            font-weight: bold;
        }
    
    .highlight {
            color: #22C55E;
            font-weight: bold;
        }

        .button {
            display: block;
            width: 90%;
            max-width: 400px;
            margin: 10px auto;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
        }

        .btn-primary {
            background: #3B82F6;
            color: white;
        }

        .btn-secondary {
            background: #6B7280;
            color: white;
        }

        
.withdraw-form {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px px rgba(0, 0, 0, 0.3);
    margin: 20px auto;
    max-width: 400px;
    text-align: left;
}

.input-group {
    margin-bottom: 15px;
}

.input-group label {
    display: block;
    font-weight: bold;
    color: #22C55E;
    margin-bottom: 8px;
}

.input-group input {
    width: 100%;
    padding: 8px;
    border-radius: 8px;
    border: none;
    outline: none;
    font-size: 16px;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: 0.3s;
}

.input-group input:focus {
    background: rgba(255, 255, 255, 0.3);
}

/* Animasi Tombol */
.button:active {
    transform: scale(0.95);
}

        .history {
            margin-top: 20px;
            text-align: left;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            display: none; /* Default disembunyikan */
        }

    
        }
        .riwayat-item {
            border: 2px solid #4CAF50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        .riwayat-item.paid {
            border-color: #2196F3;
            background: #;
        }
        .btn {
            padding: 8px 12px;
            margin-top: 10px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn.paid {
            background: #2196F3;
        }
        .status {
            color: #F44336;
            font-weight: bold;
        }
        .paid .status {
            color: #2196F3;
        }
    </style>
</head>

<body>

    <h1>‚ú® Rich Bot v1.1 ‚ú®</h1>

    <!-- Form Input Nama dan Username -->
    <div id="formInput" class="container hidden">
        <h3>Lengkapi Data Anda</h3>
        <input type="text" id="inputNama" placeholder="Masukkan Nama anda " required>
        <input type="text" id="inputUsername" placeholder="masukkan Username telegram (@username)" required>
        <button class="btn btn-primary" onclick="simpanData()">Simpan Data</button>
    </div>

    <!-- Kontainer Data Pengguna & Fitur -->
    <div id="mainContent" class="container hidden">

        <!-- Informasi Akun (Tersusun Rapi) -->
        <div class="account-box">
            <!-- Tombol Edit Bulat di Pojok Kanan Atas di Dalam Kotak -->
            <button class="edit-btn" onclick="tampilkanForm()">‚úèÔ∏è</button>

            <div class="account-item">üë§ Nama: <span id="nama"></span></div>
            <div class="account-item">üëë Username: <span id="username"></span></div>
            <div class="account-item">üÜî ID: <span id="id">RCBT17584</span></div>
            <div class="account-item">üì∫ Total Ditonton: <span id="totalDitonton">0</span>/40</div>
            <div class="account-item">üí∞ Pendapatan: Rp <span id="saldo">0</span></div>
        </div>

        <button id="btnIklan" class="button btn-primary" onclick="tontonIklan()">
            üì∫ Tonton Iklan (Rp 13)
        </button>

        <button class="button btn-secondary" onclick="toggleForm()">üí∏ Cairkan Saldo</button>
        
        <div id="withdrawForm" class="withdraw-form">
    <div class="input-group">
        <label for="namaDANA">üë§ Nama DANA</label>
        <input type="text" id="namaDANA" placeholder="Masukkan nama sesuai akun DANA" maxlength="50">
    </div>

    <div class="input-group">
        <label for="noDANA">üìû Nomor DANA</label>
        <input type="text" id="noDANA" placeholder="Masukkan nomor DANA (10-13 digit)" maxlength="13">
    </div>

    <div class="input-group">
        <label for="jumlah">üí∞ Jumlah Penarikan</label>
        <input type="number" id="jumlah" placeholder="Minimal Rp.1000 & kelipatan Rp.1000" min="1000" step="1000">
    </div>

    <button class="button btn-primary" onclick="kirimPenarikan()">‚úÖ Kirim Penarikan</button>
</div>
 
        <button class="button btn-secondary" onclick="toggleHistory()">üìú Lihat Riwayat</button>
        
        <div class="history" id="historyList">
            <h3>üìú Riwayat Penarikan:</h3>
            <ul id="riwayat"></ul>
        </div>

  <footer>
        <p>¬© 2025 Rich Bot v1.1</p>
    </footer>

    <script>
        // Fungsi untuk mengecek apakah data sudah tersimpan
        window.onload = function () {
            ambilDataTelegram();
            muatDataPendapatan();
            resetTontonanSetiapHari();
            tampilkanRiwayat();
        };
        
        function ambilDataTelegram(){
            const nama = localStorage.getItem('nama');
            const username = localStorage.getItem('username');

            if (nama && username) {
                tampilkanData();
            } else {
                document.getElementById('formInput').classList.remove('hidden');
            }
        };

        // Fungsi untuk menyimpan Nama dan Username
        function simpanData() {
            const nama = document.getElementById('inputNama').value.trim();
            const username = document.getElementById('inputUsername').value.trim();

            if (nama.length >= 3 && username.length >= 3) {
                localStorage.setItem('nama', nama);
                localStorage.setItem('username', username);
                tampilkanData();
            } else {
                alert('Nama dan Username harus minimal 3 karakter!');
            }
        }

      // Fungsi untuk menampilkan data yang sudah disimpan
        function tampilkanData() {
            document.getElementById('nama').textContent = localStorage.getItem('nama');
            document.getElementById('username').textContent = localStorage.getItem('username');
            document.getElementById('formInput').classList.add('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
        }
        function muatDataPendapatan() {
            document.getElementById('saldo').textContent = localStorage.getItem('saldo') || 0;
            document.getElementById('ads-watched').textContent = localStorage.getItem('adsWatched') || 0;
        }

        function tontonIklan() {
            let adsWatched = parseInt(localStorage.getItem('adsWatched')) || 0;

    // Validasi maksimal 40 kali per hari
    if (adsWatched >= 40) {
        alert('linit tercapai. besok lagi ya !!!');
        return;
    }
            
    if (typeof show_8991600 === 'function') {
        show_8991600();
        
        
        // Nonaktifkan tombol selama 23 detik
        mulaiTimerIklan(23);
    } else {
        alert('Iklan tidak tersedia.');
    }
}

function mulaiTimerIklan(detik) {
    const tombol = document.getElementById('btnIklan');
    tombol.disabled = true;

    let sisaWaktu = detik;
    tombol.innerHTML = `‚è≥ Tunggu ${sisaWaktu}s`;

    const hitungMundur = setInterval(() => {
        sisaWaktu--;
        tombol.innerHTML = `‚è≥ Tunggu ${sisaWaktu}s`;

        if (sisaWaktu <= 0) {
            clearInterval(hitungMundur);
            tombol.innerHTML = 'üì∫ Tonton Iklan (Rp 13)';
            tombol.disabled = false;

            // Update pendapatan setelah timer selesai
            updatePendapatan();
             // Cek kembali batas 40 tontonan
            let adsWatched = parseInt(localStorage.getItem('adsWatched')) || 0;
            if (adsWatched >= 40) {
                tombol.innerHTML = 'üö´ Batas Tercapai';
                tombol.disabled = true;
            }
        }
    }, 1000);
}

  function updatePendapatan() {
    // Ambil saldo dan jumlah iklan ditonton dari localStorage, default 0 jika null
    let saldo = parseInt(localStorage.getItem('saldo')) || 0;
    let adsWatched = parseInt(localStorage.getItem('adsWatched')) || 0;

    // Tambah pendapatan dan jumlah tontonan
    saldo += 13; // Tambah saldo sebesar 13
    adsWatched += 1; // Tambah jumlah iklan yang ditonton

    // Simpan kembali ke localStorage
    localStorage.setItem('saldo', saldo);
    localStorage.setItem('adsWatched', adsWatched);

    // Perbarui tampilan pendapatan di halaman
    muatDataPendapatan();
}

// Fungsi untuk menampilkan saldo dan jumlah iklan di halaman
function muatDataPendapatan() {
    const saldo = localStorage.getItem('saldo') || 0;
    const adsWatched = localStorage.getItem('adsWatched') || 0;

    // Tampilkan di elemen HTML
    document.getElementById('saldo').textContent = `Rp ${saldo}`;
    document.getElementById('totalDitonton').textContent = adsWatched;
}

        function toggleForm() {
            const form = document.getElementById('withdrawForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }

        function toggleHistory() {
            const history = document.getElementById('historyList');
            history.style.display = history.style.display === 'none' ? 'block' : 'none';
        }

        function resetTontonanSetiapHari() {
            const today = new Date().toLocaleDateString();
            if (localStorage.getItem('lastReset') !== today) {
                localStorage.setItem('adsWatched', '0');
                localStorage.setItem('lastReset', today);
                muatDataPendapatan();
            }
        }
    
    function kirimPenarikan() {
    const namaDANA = document.getElementById('namaDANA').value.trim();
    const noDANA = document.getElementById('noDANA').value.trim();
    const jumlah = parseInt(document.getElementById('jumlah').value, 10);
    const saldo = parseInt(localStorage.getItem('saldo')) || 0;

    if (!namaDANA || namaDANA.length < 3) {
        alert('Nama DANA harus diisi minimal 3 karakter!');
        return;
    }

    if (!noDANA.match(/^\d{10,13}$/)) {
        alert('Nomor DANA harus terdiri dari 10 hingga 13 digit!');
        return;
    }

    if (jumlah <1000 || jumlah % 1000 !== 0) {
        alert('Jumlah penarikan minimal Rp.1000 dan kelipatan Rp.1000!');
        return;
    }

    if (jumlah > saldo) {
        alert('Saldo tidak mencukupi!');
        return;
    }

    // Simulasi sukses/gagal (90% sukses, 10% gagal)
    const status = Math.random() < 0.9 ? '‚úÖ Berhasil' : '‚ùå Gagal';

    const nama = "NamaPengguna";
            const username = "username123";
            const userID = "rcbt123";

            // Waktu sekarang (termasuk detik)
            const now = new Date();
            const waktuLengkap = `${now.getHours()}:${now.getMinutes()}:${now.getSeconds()} - ${now.getDate()}/${now.getMonth() + 1}/${now.getFullYear()}`;

            // Simpan riwayat di localStorage
            const riwayat = JSON.parse(localStorage.getItem("riwayatPenarikan")) || [];
            riwayat.unshift({
                nama,
                username,
                userID,
                namaDANA,
                noDANA,
                jumlah,
                waktu: waktuLengkap,
                status: "‚úÖ Sukses"
            });
            localStorage.setItem("riwayatPenarikan", JSON.stringify(riwayat));
        
    // Kurangi saldo hanya jika berhasil
    if (status === '‚úÖ Berhasil') {
        localStorage.setItem('saldo', saldo - jumlah);
        muatDataPendapatan();
    }

    // Bersihkan form
    document.getElementById('namaDANA').value = '';
    document.getElementById('noDANA').value = '';
    document.getElementById('jumlah').value = '';

    alert(`Penarikan ${status}`);
    tampilkanRiwayat();
}
        
           // Contoh Data Riwayat Penarikan
        const riwayatPenarikan = [
            {
                nama: "Andi",
                username: "andi123",
                id: "rcbt001",
                namaDANA: "Andi Saputra",
                noDANA: "081234567890",
                jumlah: "15.000",
                waktu: "14:32:45 - 01/03/2025",
                status: "Pending"
            },
            {
                nama: "Budi",
                username: "budi456",
                id: "rcbt002",
                namaDANA: "Budi Santoso",
                noDANA: "082345678901",
                jumlah: "20.000",
                waktu: "16:45:23 - 01/03/2025",
                status: "Pending"
            }
        ];

         // PASSWORD ADMIN (Ganti dengan password rahasia Anda)
const ADMIN_PASSWORD = "passwordRahasia123";

// Menampilkan Riwayat Penarikan
function tampilkanRiwayat() {
    const riwayat = JSON.parse(localStorage.getItem('riwayatPenarikan')) || [];
    const riwayatContainer = document.getElementById('riwayat');
    riwayatContainer.innerHTML = '';

    riwayat.forEach((item, index) => {
        const riwayatItem = document.createElement('li');
        riwayatItem.className = 'riwayat-item';
        riwayatItem.innerHTML = `
            <p>üë§ Nama DANA: ${item.namaDANA}</p>
            <p>üìû No DANA: ${item.noDANA}</p>
            <p>üí∞ Jumlah: Rp ${item.jumlah.toLocaleString()}</p>
            <p>üìÖ Waktu: ${item.waktu}</p>
            <p>üîé Nama: ${item.nama}</p>
            <p>üÜî Username: ${item.username}</p>
            <p>üÜî ID: ${item.id}</p>
            <p class="status">üîÑ Status: ${item.status}</p>
            <button class="btn-share" onclick="shareToChannel(${index})">üì§ Share ke Telegram</button>
            <button class="btn" onclick="editStatus(${index})">rcbt v1.1</button>
        `;
        riwayatContainer.appendChild(riwayatItem);
    });
}
function shareToChannel(index) {
    const riwayat = JSON.parse(localStorage.getItem('riwayatPenarikan')) || [];
    const item = riwayat[index];

    // Format pesan riwayat
    const pesan = encodeURIComponent(`
üì§ *Riwayat Penarikan*
üë§ Nama DANA: ${item.namaDANA}
üìû No DANA: ${item.noDANA}
üí∞ Jumlah: Rp ${item.jumlah.toLocaleString()}
üìÖ Waktu: ${item.waktu}
üë§ Nama Akun: ${item.nama}
üìõ Username: ${item.username}
üÜî ID: ${item.id}
üîÑ Status: ${item.status}
_(Dikirim oleh Rich Bot v1.1)_
`);

    // Link menuju channel (otomatis isi pesan)
    window.open(`https://t.me/RCBT_PAYMENT1?text=${pesan}`, '_blank');
}

// Edit Status Penarikan (Hanya Admin)
function editStatus(index) {
    const password = prompt("Masukkan password untuk mengedit status:");
    
    // Validasi password admin
    if (password !== ADMIN_PASSWORD) {
        alert("Password salah! Anda tidak memiliki izin mengedit.");
        return;
    }

    const riwayat = JSON.parse(localStorage.getItem('riwayatPenarikan')) || [];
    const item = riwayat[index];

    const newStatus = prompt(`Edit status penarikan:\n(Sukses/Proses/Gagal)`, item.status);
    if (newStatus) {
        item.status = newStatus;
        riwayat[index] = item;
        localStorage.setItem('riwayatPenarikan', JSON.stringify(riwayat));
        tampilkanRiwayat();
        alert('Status berhasil diperbarui!');
    }
}
        // Fungsi Tandai Sudah Dibayar
        function tandaiSudahBayar(index) {
            riwayatPenarikan[index].status = 'Paid';
            tampilkanRiwayat();
            alert('‚úÖ Penarikan telah ditandai sebagai "Sudah Dibayar"!');
        }
        // Fungsi Menampilkan Form Edit
        function tampilkanForm() {
            document.getElementById('formInput').classList.remove('hidden');
            document.getElementById('mainContent').classList.add('hidden');
        }
           // Fungsi membuat hash (SHA-256)
        async function buatHash(data) {
            const encoder = new TextEncoder();
            const dataBuffer = encoder.encode(data);
            const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);
            return Array.from(new Uint8Array(hashBuffer))
                .map(byte => byte.toString(16).padStart(2, '0'))
                .join('');
        }

        // Ambil elemen form
        const form = document.getElementById('formPenarikan');

        form.addEventListener('submit', async function (e) {
            e.preventDefault(); // Mencegah form terkirim

            // Ambil data dari form
            const namaDANA = document.getElementById('namaDANA').value;
            const noDANA = document.getElementById('noDANA').value;
            const jumlah = document.getElementById('jumlah').value;
            const waktu = new Date().toLocaleString();

            // Gabungkan data
            const dataTransaksi = `${namaDANA}|${noDANA}|${jumlah}|${waktu}`;

            // Buat hash dari data
            const hash = await buatHash(dataTransaksi);

            // Siapkan pesan untuk dikirim ke Telegram
            const pesan = `
üìå *Riwayat Penarikan*
üë§ Nama: ${namaDANA}
üìû No. DANA: ${noDANA}
üí∞ Jumlah: Rp${jumlah}
‚è∞ Waktu: ${waktu}
üîí Kode Verifikasi: ${hash}`;

            // Kirim ke Telegram melalui link (contoh kirim ke channel Anda)
            const linkTelegram = `https://t.me/NAMA_CHANNEL?text=${encodeURIComponent(pesan)}`;
            window.open(linkTelegram, "_blank");

            alert("Riwayat Penarikan dikirim!");
        });
    </script>

</body>

</html>